function E(){import.meta.url,import("_").catch(()=>1);async function*e(){}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();let o,m=0,c=4,s=4;const p=function(){o=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];for(let t=0;t<c;t++)for(let r=0;r<s;r++){let i=document.createElement("div");i.id=t.toString()+"-"+r.toString();let n=o[t][r];u(i,n),document.getElementById("board").append(i)}d(),d()};function u(e,t){if(e.innerText="",e.classList.value="",e.classList.add("tile"),t>0){const r=100-Math.log2(t)*9;e.innerText=t.toString(),e.classList.add("colored"),e.style.setProperty("--bg-ligthness",`${r}%`),e.style.setProperty("--text-ligthness",`${r<50?90:10}%`)}}document.addEventListener("keyup",e=>{switch(e.code){case"ArrowLeft":y(),d();break;case"ArrowRight":h(),d();break;case"ArrowUp":L(),d();break;case"ArrowDown":S(),d();break}document.getElementById("score").innerText=m});function g(e){return e.filter(t=>t!==0)}function f(e){e=g(e);for(let t=0;t<e.length-1;t++)e[t]===e[t+1]&&(e[t]*=2,e[t+1]=0,m+=e[t]);for(e=g(e);e.length<s;)e.push(0);return e}function y(){for(let e=0;e<c;e++){let t=o[e];t=f(t),o[e]=t;for(let r=0;r<s;r++){let i=document.getElementById(e.toString()+"-"+r.toString()),n=o[e][r];u(i,n)}}}function h(){for(let e=0;e<c;e++){let t=o[e];t.reverse(),t=f(t),o[e]=t.reverse();for(let r=0;r<s;r++){let i=document.getElementById(e.toString()+"-"+r.toString()),n=o[e][r];u(i,n)}}}function L(){for(let e=0;e<s;e++){let t=[o[0][e],o[1][e],o[2][e],o[3][e]];t=f(t);for(let r=0;r<c;r++){o[r][e]=t[r];let i=document.getElementById(r.toString()+"-"+e.toString()),n=o[r][e];u(i,n)}}}function S(){for(let e=0;e<s;e++){let t=[o[0][e],o[1][e],o[2][e],o[3][e]];t.reverse(),t=f(t),t.reverse();for(let r=0;r<c;r++){o[r][e]=t[r];let i=document.getElementById(r.toString()+"-"+e.toString()),n=o[r][e];u(i,n)}}}function b(){for(let e=0;e<c;e++)for(let t=0;t<s;t++)if(o[e][t]===0)return!0;return!1}function d(){if(!b())return;let e=!1;for(;!e;){let t=Math.floor(Math.random()*c),r=Math.floor(Math.random()*s);if(o[t][r]===0){o[t][r]=2;let i=document.getElementById(t.toString()+"-"+r.toString());i.innerText="2",i.classList.add("colored"),i.style.setProperty("--bg-ligthness","90%"),i.style.setProperty("--text-ligthness","10%"),e=!0}}}window.addEventListener("DOMContentLoaded",()=>{p()});export{E as __vite_legacy_guard};
